function Ct(z,Y){for(var A=0;A<Y.length;A++){const m=Y[A];if(typeof m!="string"&&!Array.isArray(m)){for(const W in m)if(W!=="default"&&!(W in z)){const D=Object.getOwnPropertyDescriptor(m,W);D&&Object.defineProperty(z,W,D.get?D:{enumerable:!0,get:()=>m[W]})}}}return Object.freeze(Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}))}var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$={},yt={get exports(){return $},set exports(z){$=z}};/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */(function(z){window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var m=[void 0],W="zero-timeout-message",D=function(k){var S=m.length;return m.push(k),window.postMessage(W+S.toString(36),"*"),S};return window.addEventListener("message",function(k){if(!(typeof k.data!="string"||k.data.substr(0,W.length)!==W)){k.stopImmediatePropagation();var S=parseInt(k.data.substr(W.length),36);m[S]&&(m[S](),m[S]=void 0)}},!0),window.clearImmediate=function(k){m[k]&&(m[k]=void 0)},D}()||function(m){window.setTimeout(m,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(m){window.clearTimeout(m)}}()),function(Y){var A=function(){var o=document.createElement("canvas");if(!o||!o.getContext)return!1;var x=o.getContext("2d");return!(!x||!x.getImageData||!x.fillText||!Array.prototype.some||!Array.prototype.push)}(),m=function(){if(A){for(var o=document.createElement("canvas").getContext("2d"),x=20,F,e;x;){if(o.font=x.toString(10)+"px sans-serif",o.measureText("Ｗ").width===F&&o.measureText("m").width===e)return x+1;F=o.measureText("Ｗ").width,e=o.measureText("m").width,x--}return 0}}(),W=function(S){if(Array.isArray(S)){var o=S.slice();return o.splice(0,2),o}else return[]},D=function(o){for(var x,F,e=o.length;e;)x=Math.floor(Math.random()*e),F=o[--e],o[e]=o[x],o[x]=F;return o},E={},k=function(o,x){if(!A)return;var F=Math.floor(Math.random()*Date.now());Array.isArray(o)||(o=[o]),o.forEach(function(s,t){if(typeof s=="string"){if(o[t]=document.getElementById(s),!o[t])throw new Error("The element id specified is not found.")}else if(!s.tagName&&!s.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var e={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(x)for(var U in x)U in e&&(e[U]=x[U]);if(typeof e.weightFactor!="function"){var gt=e.weightFactor;e.weightFactor=function(t){return t*gt}}if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(t){return 1-Math.sin(t)};break;case"diamond":e.shape=function(t){var r=t%(2*Math.PI/4);return 1/(Math.cos(r)+Math.sin(r))};break;case"square":e.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle-forward":e.shape=function(t){var r=t%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"triangle":case"triangle-upright":e.shape=function(t){var r=(t+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"pentagon":e.shape=function(t){var r=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(r)+.726543*Math.sin(r))};break;case"star":e.shape=function(t){var r=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-r)+3.07768*Math.sin(2*Math.PI/10-r)):1/(Math.cos(r)+3.07768*Math.sin(r))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var n=e.gridSize,st=n-e.maskGapWidth,J=Math.abs(e.maxRotation-e.minRotation),K=Math.abs(Math.floor(e.rotationSteps)),Q=Math.min(e.maxRotation,e.minRotation),O,b,y,H,j,lt,q;function dt(s,t){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(t-s)+s).toFixed()+"%)"}switch(e.color){case"random-dark":q=function(){return dt(10,50)};break;case"random-light":q=function(){return dt(50,90)};break;default:typeof e.color=="function"&&(q=e.color);break}var Z;typeof e.fontWeight=="function"&&(Z=e.fontWeight);var V=null;typeof e.classes=="function"&&(V=e.classes);var tt=!1,et=[],rt,ut=function(t){var r=t.currentTarget,a=r.getBoundingClientRect(),f,i;t.touches?(f=t.touches[0].clientX,i=t.touches[0].clientY):(f=t.clientX,i=t.clientY);var l=f-a.left,u=i-a.top,v=Math.floor(l*(r.width/a.width||1)/n),d=Math.floor(u*(r.height/a.height||1)/n);return et[v][d]},ct=function(t){var r=ut(t);if(rt!==r){if(rt=r,!r){e.hover(void 0,void 0,t);return}e.hover(r.item,r.dimension,t)}},ht=function(t){var r=ut(t);r&&(e.click(r.item,r.dimension,t),t.preventDefault())},at=[],wt=function(t){if(at[t])return at[t];var r=t*8,a=r,f=[];for(t===0&&f.push([H[0],H[1],0]);a--;){var i=1;e.shape!=="circle"&&(i=e.shape(a/r*2*Math.PI)),f.push([H[0]+t*i*Math.cos(-a/r*2*Math.PI),H[1]+t*i*Math.sin(-a/r*2*Math.PI)*e.ellipticity,a/r*2*Math.PI])}return at[t]=f,f},it=function(){return e.abortThreshold>0&&new Date().getTime()-lt>e.abortThreshold},mt=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:J===0?Q:K>0?Q+Math.floor(Math.random()*K)*J/(K-1):Q+Math.random()*J},pt=function(t,r,a,f){var i=e.weightFactor(r);if(i<=e.minSize)return!1;var l=1;i<m&&(l=function(){for(var ft=2;ft*i<m;)ft+=2;return ft}());var u;Z?u=Z(t,r,i,f):u=e.fontWeight;var v=document.createElement("canvas"),d=v.getContext("2d",{willReadFrequently:!0});d.font=u+" "+(i*l).toString(10)+"px "+e.fontFamily;var I=d.measureText(t).width/l,c=Math.max(i*l,d.measureText("m").width,d.measureText("Ｗ").width)/l,w=I+c*2,p=c*3,M=Math.ceil(w/n),P=Math.ceil(p/n);w=M*n,p=P*n;var h=-I/2,g=-c*.4,T=Math.ceil((w*Math.abs(Math.sin(a))+p*Math.abs(Math.cos(a)))/n),C=Math.ceil((w*Math.abs(Math.cos(a))+p*Math.abs(Math.sin(a)))/n),L=C*n,B=T*n;v.setAttribute("width",L),v.setAttribute("height",B),d.scale(1/l,1/l),d.translate(L*l/2,B*l/2),d.rotate(-a),d.font=u+" "+(i*l).toString(10)+"px "+e.fontFamily,d.fillStyle="#000",d.textBaseline="middle",d.fillText(t,h*l,(g+i*.5)*l);var N=d.getImageData(0,0,L,B).data;if(it())return!1;for(var vt=[],X=C,G,nt,ot,R=[T/2,C/2,T/2,C/2];X--;)for(G=T;G--;){ot=n;t:for(;ot--;)for(nt=n;nt--;)if(N[((G*n+ot)*L+(X*n+nt))*4+3]){vt.push([X,G]),X<R[3]&&(R[3]=X),X>R[1]&&(R[1]=X),G<R[0]&&(R[0]=G),G>R[2]&&(R[2]=G);break t}}return{mu:l,occupied:vt,bounds:R,gw:C,gh:T,fillTextOffsetX:h,fillTextOffsetY:g,fillTextWidth:I,fillTextHeight:c,fontSize:i}},Mt=function(t,r,a,f,i){for(var l=i.length;l--;){var u=t+i[l][0],v=r+i[l][1];if(u>=b||v>=y||u<0||v<0){if(!e.drawOutOfBound)return!1;continue}if(!O[u][v])return!1}return!0},Tt=function(t,r,a,f,i,l,u,v,d,I){var c=a.fontSize,w;q?w=q(f,i,c,l,u,I):w=e.color;var p;Z?p=Z(f,i,c,I):p=e.fontWeight;var M;V?M=V(f,i,c,I):M=e.classes,o.forEach(function(P){if(P.getContext){var h=P.getContext("2d"),g=a.mu;h.save(),h.scale(1/g,1/g),h.font=p+" "+(c*g).toString(10)+"px "+e.fontFamily,h.fillStyle=w,h.translate((t+a.gw/2)*n*g,(r+a.gh/2)*n*g),v!==0&&h.rotate(-v),h.textBaseline="middle",h.fillText(f,a.fillTextOffsetX*g,(a.fillTextOffsetY+c*.5)*g),h.restore()}else{var T=document.createElement("span"),C="";C="rotate("+-v/Math.PI*180+"deg) ",a.mu!==1&&(C+="translateX(-"+a.fillTextWidth/4+"px) scale("+1/a.mu+")");var L={position:"absolute",display:"block",font:p+" "+c*a.mu+"px "+e.fontFamily,left:(t+a.gw/2)*n+a.fillTextOffsetX+"px",top:(r+a.gh/2)*n+a.fillTextOffsetY+"px",width:a.fillTextWidth+"px",height:a.fillTextHeight+"px",lineHeight:c+"px",whiteSpace:"nowrap",transform:C,webkitTransform:C,msTransform:C,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};w&&(L.color=w),T.textContent=f;for(var B in L)T.style[B]=L[B];if(d)for(var N in d)T.setAttribute(N,d[N]);M&&(T.className+=M),P.appendChild(T)}})},xt=function(t,r,a,f,i){if(!(t>=b||r>=y||t<0||r<0)){if(O[t][r]=!1,a){var l=o[0].getContext("2d");l.fillRect(t*n,r*n,st,st)}tt&&(et[t][r]={item:i,dimension:f})}},bt=function(t,r,a,f,i,l){var u=i.occupied,v=e.drawMask,d;v&&(d=o[0].getContext("2d"),d.save(),d.fillStyle=e.maskColor);var I;if(tt){var c=i.bounds;I={x:(t+c[3])*n,y:(r+c[0])*n,w:(c[1]-c[3]+1)*n,h:(c[2]-c[0]+1)*n}}for(var w=u.length;w--;){var p=t+u[w][0],M=r+u[w][1];p>=b||M>=y||p<0||M<0||xt(p,M,v,I,l)}v&&d.restore()},It=function s(t){var r,a,f;Array.isArray(t)?(r=t[0],a=t[1]):(r=t.word,a=t.weight,f=t.attributes);var i=mt(),l=W(t),u=pt(r,a,i,l);if(!u||it())return!1;if(!e.drawOutOfBound&&!e.shrinkToFit){var v=u.bounds;if(v[1]-v[3]+1>b||v[2]-v[0]+1>y)return!1}for(var d=j+1,I=function(p){var M=Math.floor(p[0]-u.gw/2),P=Math.floor(p[1]-u.gh/2),h=u.gw,g=u.gh;return Mt(M,P,h,g,u.occupied)?(Tt(M,P,u,r,a,j-d,p[2],i,f,l),bt(M,P,h,g,u,t),!0):!1};d--;){var c=wt(j-d);e.shuffle&&(c=[].concat(c),D(c));var w=c.some(I);if(w)return!0}return e.shrinkToFit?(Array.isArray(t)?t[1]=t[1]*3/4:t.weight=t.weight*3/4,s(t)):!1},_=function(t,r,a){if(r)return!o.some(function(f){var i=new CustomEvent(t,{detail:a||{}});return!f.dispatchEvent(i)},this);o.forEach(function(f){var i=new CustomEvent(t,{detail:a||{}});f.dispatchEvent(i)},this)},kt=function(){var t=o[0];if(t.getContext)b=Math.ceil(t.width/n),y=Math.ceil(t.height/n);else{var r=t.getBoundingClientRect();b=Math.ceil(r.width/n),y=Math.ceil(r.height/n)}if(_("wordcloudstart",!0)){H=e.origin?[e.origin[0]/n,e.origin[1]/n]:[b/2,y/2],j=Math.floor(Math.sqrt(b*b+y*y)),O=[];var a,f,i;if(!t.getContext||e.clearCanvas)for(o.forEach(function(h){if(h.getContext){var g=h.getContext("2d");g.fillStyle=e.backgroundColor,g.clearRect(0,0,b*(n+1),y*(n+1)),g.fillRect(0,0,b*(n+1),y*(n+1))}else h.textContent="",h.style.backgroundColor=e.backgroundColor,h.style.position="relative"}),a=b;a--;)for(O[a]=[],f=y;f--;)O[a][f]=!0;else{var l=document.createElement("canvas").getContext("2d");l.fillStyle=e.backgroundColor,l.fillRect(0,0,1,1);var u=l.getImageData(0,0,1,1).data,v=t.getContext("2d").getImageData(0,0,b*n,y*n).data;a=b;for(var d,I;a--;)for(O[a]=[],f=y;f--;){I=n;t:for(;I--;)for(d=n;d--;)for(i=4;i--;)if(v[((f*n+I)*b*n+(a*n+d))*4+i]!==u[i]){O[a][f]=!1;break t}O[a][f]!==!1&&(O[a][f]=!0)}v=l=u=void 0}if(e.hover||e.click){for(tt=!0,a=b+1;a--;)et[a]=[];e.hover&&t.addEventListener("mousemove",ct),e.click&&(t.addEventListener("click",ht),t.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),t.addEventListener("wordcloudstart",function h(){t.removeEventListener("wordcloudstart",h),t.removeEventListener("mousemove",ct),t.removeEventListener("click",ht),rt=void 0})}i=0;var c,w;e.wait!==0?(c=window.setTimeout,w=window.clearTimeout):(c=window.setImmediate,w=window.clearImmediate);var p=function(g,T){o.forEach(function(C){C.addEventListener(g,T)},this)},M=function(g,T){o.forEach(function(C){C.removeEventListener(g,T)},this)},P=function h(){M("wordcloudstart",h),w(E[F])};p("wordcloudstart",P),E[F]=c(function h(){if(i>=e.list.length){w(E[F]),_("wordcloudstop",!1),M("wordcloudstart",P),delete E[F];return}lt=new Date().getTime();var g=It(e.list[i]),T=!_("wordclouddrawn",!0,{item:e.list[i],drawn:g});if(it()||T){w(E[F]),e.abort(),_("wordcloudabort",!1),_("wordcloudstop",!1),M("wordcloudstart",P),delete E[F];return}i++,E[F]=c(h,e.wait)},e.wait)}};kt()};k.isSupported=A,k.minFontSize=m,k.stop=function(){if(E)for(var o in E)window.clearImmediate(E[o])},z.exports?z.exports=k:Y.WordCloud=k}(St)})(yt);const Et=$,Pt=Ct({__proto__:null,default:Et},[$]);export{Pt as w};
